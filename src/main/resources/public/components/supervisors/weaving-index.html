<div class="flash-msg" flash-message="30000"></div>
<div class="col-lg-12 panel-body">
    <div class="panel panel-default">
        <div class="panel-heading">
            List of Entries
        </div>


        <div class="action-buttons">

            <div class="pull-left">
                <button type="button" class="btn btn-primary" ui-sref="dashboard.supervisors.weavingNew">Add
                    Entry
                </button>
            </div>

            <div class="pull-left">
                <button class="btn btn btn-primary" ng-click="showFilter = !showFilter"><p ng-if="!showFilter">Show
                    Filter</p>
                    <p ng-if="showFilter">Hide Filter</p></button>
            </div>
        </div>

        <div class="search-container" ng-show="showFilter">


            <div class="col-sm-3 input-margin">
                <selectize placeholder="Customer" ng-model="ctrl.filterParams.customerId"
                           config="{maxOptions: 100}" options="ctrl.customers"></selectize>
            </div>


            <div class="col-sm-3 input-margin">
                <selectize placeholder="Locations" ng-model="ctrl.filterParams.locationId"
                           options="ctrl.locations">
                </selectize>
            </div>

            <div class="col-sm-3 input-margin">
                <selectize placeholder="Designs" ng-model="ctrl.filterParams.designId"
                           options="ctrl.designs">
                </selectize>
            </div>

            <div class="col-sm-3 input-margin">
                <selectize placeholder="Prints" ng-model="ctrl.filterParams.printId"
                           options="ctrl.prints">
                </selectize>
            </div>

            <div class="col-sm-3 input-margin">
                <selectize placeholder="Sizes" ng-model="ctrl.filterParams.sizeId"
                           options="ctrl.sizes">
                </selectize>
            </div>

            <div class="col-sm-3 input-margin">
                <input type="text" class="form-control" ng-model="ctrl.filterParams.orderNo"
                       placeholder='Order No'>
            </div>


            <div class="col-sm-3 input-margin">
                <input type="text" class="form-control" ng-model="ctrl.filterParams.receiptNumber"
                       placeholder="Receipt Number">
            </div>

            <div class="col-sm-3 input-margin">
                <input placeholder="Created Date From" type="text" id='createdDateFrom'
                       class="form-control date-picker-new datepopup" name="date"
                       data-ng-click="openCreatedDateFrom($event,'addCreatedDateFrom')"
                       data-datepicker-popup="{{format}}" data-ng-model="ctrl.filterParams.createdDateFrom"
                       data-is-open="datepickers.addCreatedDateFrom" data-min-date="self.minimum_date"
                       data-close-text="Close" required/>
            </div>

            <div class="col-sm-3 input-margin">
                <input placeholder="Created Date To" type="text" id='createdDateTo'
                       class="form-control date-picker-new datepopup" name="date"
                       data-ng-click="openCreatedDateTo($event,'addCreatedDateTo')"
                       data-datepicker-popup="{{format}}" data-ng-model="ctrl.filterParams.createdDateTo"
                       data-is-open="datepickers.addCreatedDateTo" data-min-date="self.minimum_date"
                       data-close-text="Close" required/>
            </div>


            <div class="col-sm-12"></div>


        </div>

        <div class="search-btn-wrapper" ng-show="showFilter">

            <div class="pull-left">
                <button class="btn btn btn-primary" ng-click="ctrl.reloadTable()">Search</button>
            </div>

            <div class="pull-left">
                <button class="btn btn btn-primary" ng-click="ctrl.generateCSV()">Generate CSV</button>
            </div>

        </div>

        <div class="panel-body">
            <div class="dataTable_wrapper no-padding horizontal-scroll" ng-show="ctrl.logs">
                <table ng-table="ctrl.logTable"
                       class="table table-striped table-bordered table-hover table-condensed"
                       id="dataTables-example">
                    <thead>
                    <tr>
                        <th>Receipt No</th>
                        <th>Created On </th>
                        <th>ONo</th>
                        <th>Location</th>
                        <th>Customer</th>
                        <th>Design</th>
                        <th>Print</th>
                        <th>Color</th>
                        <th>Size</th>
                        <th>Quantity</th>
                        <th>Remark</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd gradeX"
                        ng-repeat="log in $data" >
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.receiptNumber}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.created | date: 'dd/MM/yyyy'}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.orderNo}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)"> {{log.locationName}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.customerName}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.designName}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.printName}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.colorName}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.sizeName}}</td>
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.quantity}}</td>we
                        <td ng-class="{'clickable-td': log.locationName == 'REJECTED'}" data-ng-click="ctrl.getRejectedDocument(log.id,log.locationName)">{{log.remarks}}</td>
                        <td style="width: 100px">
                            <button type="button" class="btn btn-xs btn-danger pull-left" ng-click="ctrl.deleteLog(log.id)">
                                Delete
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="col-lg-12" ng-show="ctrl.noResults">
    No results containing all your search terms were found.
</div>
